<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>YouKids - Inicio</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <h1>Videos recomendados</h1>
  <div id="video-list" class="grid"></div>
  <script>
    const apiKey = "AIzaSyC9EVsb-yOvbGe1dvi8m_nEakxklMrusAI";
    fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=12&q=videos%20cristianos%20niÃ±os&type=video&key=${apiKey}`)
      .then(res => res.json())
      .then(async data => {
        const list = document.getElementById('video-list');
        for (let item of data.items) {
          const videoId = item.id.videoId;
          const title = item.snippet.title;
          const channelTitle = item.snippet.channelTitle;
          const thumbnail = item.snippet.thumbnails.high.url;
          const channelId = item.snippet.channelId;

          const channelInfo = await fetch(`https://www.googleapis.com/youtube/v3/channels?part=snippet&id=${channelId}&key=${apiKey}`)
            .then(res => res.json())
            .then(c => c.items[0]?.snippet?.thumbnails?.default?.url || '');

          const div = document.createElement('div');
          div.innerHTML = `
            <div class="video-card">
              <iframe width="100%" height="200" src="https://www.youtube.com/embed/${videoId}" frameborder="0" allowfullscreen></iframe>
              <div class="video-info">
                <img src="${channelInfo}" class="channel-img" />
                <div>
                  <strong>${title}</strong><br>
                  <small>${channelTitle}</small>
                </div>
              </div>
            </div>`;
          list.appendChild(div);
        }
      });
  </script>
</body>
</html>